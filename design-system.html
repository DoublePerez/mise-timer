<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mise — Design System</title>
  <style>
    @font-face {
      font-family: 'Geist';
      src: url('./node_modules/geist/dist/fonts/geist-sans/Geist-Variable.woff2') format('woff2');
      font-weight: 100 900;
      font-style: normal;
    }
    @font-face {
      font-family: 'Geist Mono';
      src: url('./node_modules/geist/dist/fonts/geist-mono/GeistMono-Variable.woff2') format('woff2');
      font-weight: 100 900;
      font-style: normal;
    }

    /* ── Tokens ── */
    :root {
      --font-sans: 'Geist', system-ui, -apple-system, sans-serif;
      --font-mono: 'Geist Mono', 'JetBrains Mono', monospace;

      --text-xs:   10px;
      --text-sm:   12px;
      --text-base: 14px;
      --text-lg:   18px;
      --text-xl:   24px;
      --text-timer: 80px;

      --tracking:       -0.01em;
      --tracking-wide:   0.08em;
      --tracking-timer: -0.03em;
      --leading-tight:  1.2;
      --leading-normal: 1.4;

      --space-1:  4px;
      --space-2:  8px;
      --space-3:  12px;
      --space-4:  16px;
      --space-6:  24px;
      --space-8:  32px;
      --space-12: 48px;
      --space-16: 64px;

      --radius-sm:   2px;
      --radius-md:   4px;
      --radius-lg:   8px;
      --radius-full: 9999px;

      --dur-fast:   100ms;
      --dur-normal: 150ms;
      --dur-slow:   300ms;
      --ease: cubic-bezier(0.16, 1, 0.3, 1);

      --border-width:   1px;
      --outline-width:  2px;
      --outline-offset: 3px;
      --inset-pill:     2px;

      /* Dark (default) */
      --color-bg:             #0A0A0A;
      --color-surface:        #141414;
      --color-surface-raised: #1E1E1E;
      --color-fg:             #F0F0F0;
      --color-muted:          #5A5A5A;
      --color-muted-strong:   #8A8A8A;
      --color-border:         #242424;
      --color-work:           #E8422A;
      --color-break:          #707070;
      --color-accent:         #E8422A;
    }

    [data-theme="light"] {
      --color-bg:             #F2F2F2;
      --color-surface:        #E2E2E2;
      --color-surface-raised: #CACACA;
      --color-fg:             #0A0A0A;
      --color-muted:          #707070;
      --color-muted-strong:   #404040;
      --color-border:         #C0C0C0;
      --color-work:           #C03018;
      --color-break:          #484848;
      --color-accent:         #C03018;
    }

    /* ── Reset ── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-sans);
      font-size: var(--text-sm);
      line-height: var(--leading-normal);
      letter-spacing: var(--tracking);
      background: var(--color-bg);
      color: var(--color-fg);
      -webkit-font-smoothing: antialiased;
      padding: 64px 48px 120px;
      transition: background 200ms, color 200ms;
    }

    /* ── Layout ── */
    .page        { max-width: 960px; margin: 0 auto; }
    .section     { margin-top: 72px; }
    .section:first-child { margin-top: 0; }
    .grid-2      { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); }
    .grid-3      { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: var(--space-4); }
    .grid-4      { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-4); }
    .grid-auto   { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: var(--space-3); }
    .row         { display: flex; align-items: center; gap: var(--space-4); flex-wrap: wrap; }
    .col         { display: flex; flex-direction: column; gap: var(--space-3); }

    /* ── Section headers ── */
    .section-label {
      font-size: var(--text-xs);
      font-weight: 400;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--color-muted);
      margin-bottom: var(--space-6);
      padding-bottom: var(--space-3);
      border-bottom: var(--border-width) solid var(--color-border);
    }

    .subsection-label {
      font-size: var(--text-xs);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--color-border);
      margin-bottom: var(--space-3);
      margin-top: var(--space-6);
    }

    /* ── Token label ── */
    .token-name {
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      color: var(--color-muted);
      margin-top: var(--space-1);
      letter-spacing: 0;
    }
    .token-value {
      font-family: var(--font-mono);
      font-size: 9px;
      color: var(--color-border);
      letter-spacing: 0;
    }

    /* ── Card ── */
    .card {
      background: var(--color-surface);
      border: var(--border-width) solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
    }

    /* ── Color swatches ── */
    .swatch {
      border-radius: var(--radius-md);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .swatch-color {
      height: 48px;
      border-radius: var(--radius-md) var(--radius-md) 0 0;
    }
    .swatch-info {
      padding: var(--space-2) var(--space-2) var(--space-3);
      background: var(--color-surface);
      border: var(--border-width) solid var(--color-border);
      border-top: none;
      border-radius: 0 0 var(--radius-md) var(--radius-md);
    }
    .swatch-name {
      font-size: var(--text-xs);
      font-weight: 500;
      color: var(--color-fg);
    }
    .swatch-hex {
      font-family: var(--font-mono);
      font-size: 9px;
      color: var(--color-muted);
      margin-top: 2px;
    }

    /* ── Spacing row ── */
    .space-row {
      display: flex;
      align-items: flex-end;
      gap: var(--space-6);
      flex-wrap: wrap;
    }
    .space-item {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 4px;
    }
    .space-block {
      background: var(--color-work);
      opacity: 0.6;
      border-radius: 2px;
      height: 4px;
    }

    /* ── Radius row ── */
    .radius-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-2);
    }
    .radius-box {
      width: 48px;
      height: 48px;
      background: var(--color-surface-raised);
      border: var(--border-width) solid var(--color-border);
    }

    /* ── Typography specimens ── */
    .type-row {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      padding: var(--space-3) 0;
      border-bottom: var(--border-width) solid var(--color-border);
      gap: var(--space-6);
    }
    .type-row:last-child { border-bottom: none; }

    /* ── Buttons ── */
    .btn-primary {
      font-family: var(--font-sans);
      font-size: var(--text-sm);
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 14px 48px;
      border-radius: var(--radius-full);
      border: none;
      cursor: pointer;
      transition: background var(--dur-normal) var(--ease), color var(--dur-normal) var(--ease), transform var(--dur-fast) var(--ease);
      outline: none;
    }
    .btn-primary.start {
      background: var(--color-accent);
      color: var(--color-bg);
    }
    .btn-primary.pause {
      background: var(--color-surface-raised);
      color: var(--color-fg);
    }
    .btn-secondary {
      font-family: var(--font-sans);
      font-size: var(--text-xs);
      font-weight: 400;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 6px var(--space-3);
      background: none;
      border: none;
      cursor: pointer;
      color: var(--color-muted);
      outline: none;
    }
    .btn-icon {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-full);
      background: var(--color-surface);
      border: var(--border-width) solid var(--color-border);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--color-muted);
      outline: none;
    }
    .btn-focus {
      outline: var(--outline-width) solid var(--color-muted-strong);
      outline-offset: var(--outline-offset);
    }

    /* ── Pill selector ── */
    .pill-group {
      display: flex;
      align-items: center;
      border: var(--border-width) solid var(--color-border);
      border-radius: var(--radius-full);
      background: var(--color-bg);
      padding: var(--inset-pill);
      gap: var(--inset-pill);
    }
    .pill-option {
      font-family: var(--font-sans);
      font-size: var(--text-xs);
      font-weight: 400;
      letter-spacing: var(--tracking);
      flex: 1;
      padding: var(--space-3) var(--space-4);
      border-radius: var(--radius-full);
      border: none;
      cursor: pointer;
      background: transparent;
      color: var(--color-muted);
      line-height: 1;
      text-align: center;
    }
    .pill-option.active {
      background: var(--color-surface-raised);
      color: var(--color-fg);
      font-weight: 500;
    }

    /* ── Dot indicators ── */
    .dot {
      border-radius: var(--radius-full);
      display: inline-block;
      flex-shrink: 0;
    }

    /* ── State row ── */
    .state-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-6);
      background: var(--color-surface);
      border: var(--border-width) solid var(--color-border);
      border-radius: var(--radius-lg);
    }
    .state-label {
      font-size: var(--text-xs);
      color: var(--color-muted);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      text-align: center;
    }

    /* ── Mode accent blocks ── */
    .mode-block {
      padding: var(--space-6);
      border-radius: var(--radius-lg);
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }

    /* ── Timeline ── */
    .timeline-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      width: 100%;
      padding: 3px 0;
    }
    .timeline-time {
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      color: var(--color-border);
      margin-left: auto;
      padding-left: var(--space-4);
      font-variant-numeric: tabular-nums;
    }

    /* ── Motion demo ── */
    .motion-demo {
      display: flex;
      align-items: center;
      gap: var(--space-6);
      padding: var(--space-4) 0;
      border-bottom: var(--border-width) solid var(--color-border);
    }
    .motion-demo:last-child { border-bottom: none; }
    .motion-bar {
      height: 3px;
      width: 120px;
      background: var(--color-border);
      border-radius: 2px;
      position: relative;
      overflow: hidden;
    }
    .motion-bar::after {
      content: '';
      position: absolute;
      left: 0; top: 0;
      height: 100%;
      border-radius: 2px;
      background: var(--color-work);
    }
    .dur-fast::after  { width: 30%;  transition: width var(--dur-fast)   var(--ease); }
    .dur-normal::after { width: 55%; transition: width var(--dur-normal) var(--ease); }
    .dur-slow::after  { width: 80%;  transition: width var(--dur-slow)  var(--ease); }

    /* ── Theme toggle ── */
    #theme-toggle {
      position: fixed;
      top: 24px;
      right: 32px;
      font-family: var(--font-sans);
      font-size: var(--text-xs);
      font-weight: 400;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: var(--space-2) var(--space-4);
      border-radius: var(--radius-full);
      border: var(--border-width) solid var(--color-border);
      background: var(--color-surface);
      color: var(--color-muted);
      cursor: pointer;
      z-index: 100;
      transition: color var(--dur-normal) var(--ease);
    }
    #theme-toggle:hover { color: var(--color-fg); }

    /* ── Page header ── */
    .page-header {
      display: flex;
      align-items: baseline;
      gap: var(--space-4);
      margin-bottom: var(--space-16);
    }
    .page-title {
      font-size: var(--text-xl);
      font-weight: 700;
      letter-spacing: -0.03em;
    }
    .page-subtitle {
      font-size: var(--text-sm);
      color: var(--color-muted);
    }

    /* ── Divider ── */
    hr {
      border: none;
      border-top: var(--border-width) solid var(--color-border);
      margin: var(--space-8) 0;
    }

    code {
      font-family: var(--font-mono);
      font-size: 10px;
      background: var(--color-surface-raised);
      border-radius: var(--radius-sm);
      padding: 1px 5px;
      color: var(--color-muted-strong);
    }
  </style>
</head>
<body>

<button id="theme-toggle" onclick="toggleTheme()">Light</button>

<div class="page">

  <!-- Header -->
  <div class="page-header">
    <span class="page-title">mise</span>
    <span class="page-subtitle">Design System · Tokens, Components & States</span>
  </div>


  <!-- ── COLOR ─────────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Color</div>

    <div class="subsection-label">Background & Surface</div>
    <div class="grid-4">
      <div class="swatch">
        <div class="swatch-color" style="background:#0A0A0A; border:1px solid #242424;"></div>
        <div class="swatch-info">
          <div class="swatch-name">BG</div>
          <div class="swatch-hex">--color-bg · #0A0A0A</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#141414;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Surface</div>
          <div class="swatch-hex">--color-surface · #141414</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#1E1E1E;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Surface Raised</div>
          <div class="swatch-hex">--color-surface-raised · #1E1E1E</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#242424;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Border</div>
          <div class="swatch-hex">--color-border · #242424</div>
        </div>
      </div>
    </div>

    <div class="subsection-label">Foreground</div>
    <div class="grid-4">
      <div class="swatch">
        <div class="swatch-color" style="background:#F0F0F0;"></div>
        <div class="swatch-info">
          <div class="swatch-name">FG</div>
          <div class="swatch-hex">--color-fg · #F0F0F0</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#8A8A8A;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Muted Strong</div>
          <div class="swatch-hex">--color-muted-strong · #8A8A8A</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#5A5A5A;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Muted</div>
          <div class="swatch-hex">--color-muted · #5A5A5A</div>
        </div>
      </div>
    </div>

    <div class="subsection-label">Accent</div>
    <div class="grid-4">
      <div class="swatch">
        <div class="swatch-color" style="background:#E8422A;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Work (dark)</div>
          <div class="swatch-hex">--color-work · #E8422A</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#C03018;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Work (light)</div>
          <div class="swatch-hex">--color-work · #C03018</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#707070;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Break (dark)</div>
          <div class="swatch-hex">--color-break · #707070</div>
        </div>
      </div>
      <div class="swatch">
        <div class="swatch-color" style="background:#484848;"></div>
        <div class="swatch-info">
          <div class="swatch-name">Break (light)</div>
          <div class="swatch-hex">--color-break · #484848</div>
        </div>
      </div>
    </div>

    <div class="subsection-label">Semantic — data-mode cascade</div>
    <div class="grid-2">
      <div class="mode-block" style="background:var(--color-surface); border:1px solid #E8422A33;">
        <div style="display:flex;align-items:center;gap:8px;">
          <span class="dot" style="width:8px;height:8px;background:#E8422A;"></span>
          <span style="font-size:var(--text-xs);font-weight:500;color:var(--color-fg);">data-mode="work"</span>
        </div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">--color-accent → --color-work</div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Used by: START button, active dot, session dots, bars</div>
      </div>
      <div class="mode-block" style="background:var(--color-surface); border:1px solid #70707033;">
        <div style="display:flex;align-items:center;gap:8px;">
          <span class="dot" style="width:8px;height:8px;background:#707070;"></span>
          <span style="font-size:var(--text-xs);font-weight:500;color:var(--color-fg);">data-mode="break"</span>
        </div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">--color-accent → --color-break</div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Used by: START button background during break phases</div>
      </div>
    </div>
  </section>


  <!-- ── TYPOGRAPHY ─────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Typography</div>

    <div class="grid-2" style="gap:var(--space-8); margin-bottom: var(--space-8);">
      <div>
        <div class="subsection-label">Geist — sans (--font-sans)</div>
        <div style="font-family:var(--font-sans);font-size:32px;font-weight:700;letter-spacing:-0.03em;line-height:1;">mise</div>
        <div style="font-family:var(--font-sans);font-size:32px;font-weight:400;letter-spacing:-0.03em;line-height:1;margin-top:8px;color:var(--color-muted);">25:00</div>
        <div style="font-family:var(--font-sans);font-size:var(--text-sm);margin-top:12px;color:var(--color-muted);">Used for: clock, splash, UI labels, buttons, settings</div>
      </div>
      <div>
        <div class="subsection-label">Geist Mono — mono (--font-mono)</div>
        <div style="font-family:var(--font-mono);font-size:32px;font-weight:400;letter-spacing:0;line-height:1;color:var(--color-muted-strong);">11:00</div>
        <div style="font-family:var(--font-mono);font-size:var(--text-xs);margin-top:8px;color:var(--color-muted);">02:00</div>
        <div style="font-family:var(--font-mono);font-size:var(--text-xs);margin-top:4px;color:var(--color-border);">15:00</div>
        <div style="font-family:var(--font-sans);font-size:var(--text-sm);margin-top:12px;color:var(--color-muted);">Used for: phase durations in timeline only</div>
      </div>
    </div>

    <div class="card">
      <div class="type-row">
        <div>
          <div style="font-size:var(--text-timer);font-weight:400;letter-spacing:var(--tracking-timer);line-height:1;">25:00</div>
        </div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-timer</div>
          <div class="token-value">clamp(80px, 14vw, 160px) · weight 400 · tracking -0.03em</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-xl);font-weight:700;letter-spacing:-0.03em;">mise</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-xl · weight 700</div>
          <div class="token-value">24px · splash / display</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-lg);">Mode Indicator</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-lg</div>
          <div class="token-value">18px</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-base);">Base body text</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-base</div>
          <div class="token-value">14px</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-sm);">Labels, buttons, settings</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-sm</div>
          <div class="token-value">12px</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-xs);">Captions, tokens, meta</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--text-xs</div>
          <div class="token-value">10px</div>
        </div>
      </div>
      <div class="type-row">
        <div style="font-size:var(--text-xs);letter-spacing:var(--tracking-wide);text-transform:uppercase;">Settings · Mode</div>
        <div style="text-align:right;flex-shrink:0;">
          <div class="token-name">--tracking-wide</div>
          <div class="token-value">0.08em · section headers</div>
        </div>
      </div>
    </div>
  </section>


  <!-- ── SPACING ────────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Spacing — 4px base unit</div>
    <div class="card">
      <div class="space-row">
        <div class="space-item">
          <div class="space-block" style="width:4px;"></div>
          <div class="token-name">--space-1</div>
          <div class="token-value">4px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:8px;"></div>
          <div class="token-name">--space-2</div>
          <div class="token-value">8px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:12px;"></div>
          <div class="token-name">--space-3</div>
          <div class="token-value">12px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:16px;"></div>
          <div class="token-name">--space-4</div>
          <div class="token-value">16px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:24px;"></div>
          <div class="token-name">--space-6</div>
          <div class="token-value">24px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:32px;"></div>
          <div class="token-name">--space-8</div>
          <div class="token-value">32px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:48px;"></div>
          <div class="token-name">--space-12</div>
          <div class="token-value">48px</div>
        </div>
        <div class="space-item">
          <div class="space-block" style="width:64px;"></div>
          <div class="token-name">--space-16</div>
          <div class="token-value">64px</div>
        </div>
      </div>
    </div>
  </section>


  <!-- ── RADIUS ─────────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Radius</div>
    <div class="row">
      <div class="radius-item">
        <div class="radius-box" style="border-radius:var(--radius-sm);"></div>
        <div class="token-name">--radius-sm</div>
        <div class="token-value">2px · chart bars</div>
      </div>
      <div class="radius-item">
        <div class="radius-box" style="border-radius:var(--radius-md);"></div>
        <div class="token-name">--radius-md</div>
        <div class="token-value">4px · tooltip</div>
      </div>
      <div class="radius-item">
        <div class="radius-box" style="border-radius:var(--radius-lg);"></div>
        <div class="token-name">--radius-lg</div>
        <div class="token-value">8px · panel, card</div>
      </div>
      <div class="radius-item">
        <div class="radius-box" style="border-radius:var(--radius-full);"></div>
        <div class="token-name">--radius-full</div>
        <div class="token-value">9999px · buttons, pills, dots</div>
      </div>
    </div>
  </section>


  <!-- ── MOTION ─────────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Motion</div>
    <div class="card">
      <div class="motion-demo">
        <div style="width:120px; flex-shrink:0;">
          <div class="token-name">--dur-fast</div>
          <div class="token-value">100ms · press scale</div>
        </div>
        <div class="motion-bar dur-fast" id="bar-fast"></div>
        <button onclick="animateBar('bar-fast')" style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-muted);background:none;border:none;cursor:pointer;padding:0;letter-spacing:0.06em;">run</button>
      </div>
      <div class="motion-demo">
        <div style="width:120px; flex-shrink:0;">
          <div class="token-name">--dur-normal</div>
          <div class="token-value">150ms · color, opacity</div>
        </div>
        <div class="motion-bar dur-normal" id="bar-normal"></div>
        <button onclick="animateBar('bar-normal')" style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-muted);background:none;border:none;cursor:pointer;padding:0;letter-spacing:0.06em;">run</button>
      </div>
      <div class="motion-demo">
        <div style="width:120px; flex-shrink:0;">
          <div class="token-name">--dur-slow</div>
          <div class="token-value">300ms · theme switch</div>
        </div>
        <div class="motion-bar dur-slow" id="bar-slow"></div>
        <button onclick="animateBar('bar-slow')" style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-muted);background:none;border:none;cursor:pointer;padding:0;letter-spacing:0.06em;">run</button>
      </div>
      <div style="margin-top:var(--space-4);padding-top:var(--space-4);border-top:1px solid var(--color-border);">
        <div class="token-name" style="color:var(--color-muted-strong);">--ease</div>
        <div class="token-value" style="margin-top:4px;">cubic-bezier(0.16, 1, 0.3, 1) — all transitions share one curve</div>
      </div>
    </div>
  </section>


  <!-- ── COMPONENTS ─────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Components</div>

    <!-- Primary Button States -->
    <div class="subsection-label">Primary Button — Start / Pause</div>
    <div class="grid-3">
      <div class="state-item">
        <button class="btn-primary start">Start</button>
        <div class="state-label">Idle<br><code>bg: --color-accent</code><br><code>color: --color-bg</code></div>
      </div>
      <div class="state-item">
        <button class="btn-primary pause">Pause</button>
        <div class="state-label">Running<br><code>bg: --color-surface-raised</code><br><code>color: --color-fg</code></div>
      </div>
      <div class="state-item">
        <button class="btn-primary start btn-focus">Start</button>
        <div class="state-label">Focus ring<br><code>outline: 2px --color-muted-strong</code><br><code>offset: 3px</code></div>
      </div>
    </div>

    <!-- Secondary Button States -->
    <div class="subsection-label">Secondary Button — Reset / Skip</div>
    <div class="grid-3">
      <div class="state-item">
        <button class="btn-secondary" style="color:var(--color-muted);">Reset</button>
        <div class="state-label">Default<br><code>color: --color-muted</code></div>
      </div>
      <div class="state-item">
        <button class="btn-secondary" style="color:var(--color-fg);">Reset</button>
        <div class="state-label">Hover<br><code>color: --color-fg</code></div>
      </div>
      <div class="state-item">
        <button class="btn-secondary" style="opacity:0;pointer-events:none;">Reset</button>
        <div class="state-label">Hidden<br><code>opacity: 0</code></div>
      </div>
    </div>

    <!-- Icon Button States -->
    <div class="subsection-label">Icon Button — Theme / Settings</div>
    <div class="grid-3">
      <div class="state-item">
        <button class="btn-icon">
          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="7.5" cy="7.5" r="3" stroke="currentColor" stroke-width="1.3"/><line x1="7.5" y1="1" x2="7.5" y2="3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="7.5" y1="12" x2="7.5" y2="14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="1" y1="7.5" x2="3" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="12" y1="7.5" x2="14" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg>
        </button>
        <div class="state-label">Default<br><code>40×40px · --color-surface</code><br><code>border: --color-border</code></div>
      </div>
      <div class="state-item">
        <button class="btn-icon" style="color:var(--color-fg);">
          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="7.5" cy="7.5" r="3" stroke="currentColor" stroke-width="1.3"/><line x1="7.5" y1="1" x2="7.5" y2="3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="7.5" y1="12" x2="7.5" y2="14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="1" y1="7.5" x2="3" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="12" y1="7.5" x2="14" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg>
        </button>
        <div class="state-label">Hover<br><code>color: --color-fg</code></div>
      </div>
      <div class="state-item">
        <button class="btn-icon btn-focus">
          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="7.5" cy="7.5" r="3" stroke="currentColor" stroke-width="1.3"/><line x1="7.5" y1="1" x2="7.5" y2="3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="7.5" y1="12" x2="7.5" y2="14" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="1" y1="7.5" x2="3" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/><line x1="12" y1="7.5" x2="14" y2="7.5" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg>
        </button>
        <div class="state-label">Focus<br><code>outline: 2px --color-muted-strong</code></div>
      </div>
    </div>

    <!-- Pill Selector -->
    <div class="subsection-label">Pill Selector — Settings options</div>
    <div class="grid-2" style="gap:var(--space-8);">
      <div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-2);">Mode</div>
        <div class="pill-group">
          <button class="pill-option active">Work</button>
          <button class="pill-option">Cook</button>
        </div>
      </div>
      <div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-2);">Style</div>
        <div class="pill-group">
          <button class="pill-option active">Pomodoro</button>
          <button class="pill-option">Deep Work</button>
          <button class="pill-option">Custom</button>
        </div>
      </div>
    </div>
    <div style="margin-top:var(--space-3);display:flex;gap:var(--space-6);">
      <div style="font-size:var(--text-xs);color:var(--color-muted);">Active: <code>--color-surface-raised · weight 500 · --color-fg</code></div>
      <div style="font-size:var(--text-xs);color:var(--color-muted);">Inactive: <code>transparent · weight 400 · --color-muted</code></div>
    </div>

    <!-- Session Dots -->
    <div class="subsection-label">Session Tracker — Pomodoro dots</div>
    <div class="card">
      <div style="display:flex;gap:var(--space-4);align-items:center;flex-wrap:wrap;">
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">2 of 4 complete</div>
          <div style="display:flex;gap:var(--space-2);">
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
          </div>
        </div>
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">4 of 4 complete</div>
          <div style="display:flex;gap:var(--space-2);">
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
          </div>
        </div>
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">0 of 4 complete</div>
          <div style="display:flex;gap:var(--space-2);">
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
          </div>
        </div>
      </div>
      <div style="margin-top:var(--space-4);font-size:var(--text-xs);color:var(--color-muted);">Completed: <code>--color-work</code> &nbsp;·&nbsp; Pending: <code>--color-border</code> &nbsp;·&nbsp; Size: 5×5px</div>
    </div>

    <!-- Phase Timeline -->
    <div class="subsection-label">Phase Timeline — Sauce / Custom Cook</div>
    <div class="card">
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:var(--space-8);">

        <!-- Active state -->
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">Active phase</div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-accent);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);font-weight:500;color:var(--color-fg);">Soffritto</span>
            <span class="timeline-time" style="color:var(--color-muted-strong);">08:42</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-border);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Add tomatoes</span>
            <span class="timeline-time">02:00</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-border);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Simmer</span>
            <span class="timeline-time">15:00</span>
          </div>
        </div>

        <!-- Mid progress -->
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">Phase 2 active</div>
          <div class="timeline-row" style="opacity:0.3;">
            <span class="dot" style="width:4px;height:4px;background:var(--color-muted);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Soffritto</span>
            <span class="timeline-time">11:00</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-accent);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);font-weight:500;color:var(--color-fg);">Add tomatoes</span>
            <span class="timeline-time" style="color:var(--color-muted-strong);">01:33</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-border);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Simmer</span>
            <span class="timeline-time">15:00</span>
          </div>
        </div>

        <!-- Paused state -->
        <div>
          <div style="font-size:var(--text-xs);color:var(--color-muted);margin-bottom:var(--space-3);">Paused</div>
          <div class="timeline-row" style="opacity:0.35;">
            <span class="dot" style="width:4px;height:4px;background:var(--color-accent);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);font-weight:500;color:var(--color-fg);">Soffritto</span>
            <span class="timeline-time" style="color:var(--color-muted-strong);">08:42</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-border);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Add tomatoes</span>
            <span class="timeline-time">02:00</span>
          </div>
          <div class="timeline-row">
            <span class="dot" style="width:4px;height:4px;background:var(--color-border);flex-shrink:0;"></span>
            <span style="font-size:var(--text-sm);color:var(--color-muted);">Simmer</span>
            <span class="timeline-time">15:00</span>
          </div>
        </div>
      </div>
      <div style="margin-top:var(--space-6);border-top:1px solid var(--color-border);padding-top:var(--space-4);display:flex;gap:var(--space-6);flex-wrap:wrap;">
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Active dot: <code>--color-accent</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Done dot: <code>--color-muted</code> · opacity 0.3</div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Pending dot: <code>--color-border</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Paused active: opacity 0.35</div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Time: <code>--font-mono · marginLeft auto</code> (right-aligned)</div>
      </div>
    </div>

    <!-- Mode Indicator -->
    <div class="subsection-label">Mode Indicator — label above clock</div>
    <div class="card">
      <div style="display:flex;gap:var(--space-8);flex-wrap:wrap;align-items:flex-start;">
        <div>
          <div style="font-size:9px;color:var(--color-border);letter-spacing:0.06em;text-transform:uppercase;margin-bottom:var(--space-2);">Work running</div>
          <span style="font-family:var(--font-sans);font-size:var(--text-xs);font-weight:400;letter-spacing:0.12em;text-transform:uppercase;color:var(--color-muted);">Pomodoro · 1 / 4</span>
        </div>
        <div>
          <div style="font-size:9px;color:var(--color-border);letter-spacing:0.06em;text-transform:uppercase;margin-bottom:var(--space-2);">Break</div>
          <span style="font-family:var(--font-sans);font-size:var(--text-xs);font-weight:400;letter-spacing:0.12em;text-transform:uppercase;color:var(--color-muted);">Break</span>
        </div>
        <div>
          <div style="font-size:9px;color:var(--color-border);letter-spacing:0.06em;text-transform:uppercase;margin-bottom:var(--space-2);">Deep Work</div>
          <span style="font-family:var(--font-sans);font-size:var(--text-xs);font-weight:400;letter-spacing:0.12em;text-transform:uppercase;color:var(--color-muted);">Deep Work · 2 / 3</span>
        </div>
        <div>
          <div style="font-size:9px;color:var(--color-border);letter-spacing:0.06em;text-transform:uppercase;margin-bottom:var(--space-2);">Cook phase</div>
          <span style="font-family:var(--font-sans);font-size:var(--text-xs);font-weight:400;letter-spacing:0.12em;text-transform:uppercase;color:var(--color-muted);">Regular Pasta</span>
        </div>
      </div>
      <div style="margin-top:var(--space-4);font-size:var(--text-xs);color:var(--color-muted);">Font: <code>--font-sans · --text-xs · tracking 0.12em · uppercase · --color-muted</code></div>
    </div>

    <!-- Timer Clock States -->
    <div class="subsection-label">Timer Display — clock states</div>
    <div class="grid-3">
      <div class="state-item">
        <div style="font-family:var(--font-sans);font-size:48px;font-weight:400;letter-spacing:-0.03em;line-height:1;color:var(--color-fg);">25:00</div>
        <div class="state-label">Idle / Running<br><code>opacity: 1</code></div>
      </div>
      <div class="state-item">
        <div style="font-family:var(--font-sans);font-size:48px;font-weight:400;letter-spacing:-0.03em;line-height:1;color:var(--color-fg);opacity:0.35;">18:42</div>
        <div class="state-label">Paused<br><code>opacity: 0.35</code></div>
      </div>
      <div class="state-item">
        <div style="font-family:var(--font-sans);font-size:48px;font-weight:400;letter-spacing:-0.03em;line-height:1;color:var(--color-fg);">00:00</div>
        <div class="state-label">Complete<br><code>alarm fires · auto-advance</code></div>
      </div>
    </div>
  </section>


  <!-- ── LAYOUT ─────────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Layout — Pinned Zones</div>
    <div class="card" style="position:relative; height:320px; overflow:hidden;">
      <!-- Zone A -->
      <div style="position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px;">
        <div style="position:absolute;top:46%;left:50%;transform:translate(-50%,-50%);text-align:center;">
          <div style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-border);letter-spacing:0.08em;text-transform:uppercase;margin-bottom:4px;">Zone A · Clock</div>
          <div style="font-family:var(--font-sans);font-size:48px;font-weight:400;letter-spacing:-0.03em;line-height:1;">25:00</div>
        </div>
        <div style="position:absolute;top:calc(46% + 60px);left:50%;transform:translateX(-50%);text-align:center;">
          <div style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-border);letter-spacing:0.08em;text-transform:uppercase;margin-bottom:4px;">Zone B · Tracker</div>
          <div style="display:flex;gap:6px;">
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-work);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
            <span class="dot" style="width:5px;height:5px;background:var(--color-border);"></span>
          </div>
        </div>
        <div style="position:absolute;bottom:24px;left:50%;transform:translateX(-50%);text-align:center;">
          <div style="font-family:var(--font-sans);font-size:var(--text-xs);color:var(--color-border);letter-spacing:0.08em;text-transform:uppercase;margin-bottom:8px;">Zone C · Controls</div>
          <button class="btn-primary start" style="font-size:10px;padding:10px 32px;">Start</button>
        </div>
      </div>
      <!-- Dashed lines -->
      <div style="position:absolute;top:46%;left:0;right:0;border-top:1px dashed var(--color-border);opacity:0.4;pointer-events:none;"></div>
    </div>
    <div style="margin-top:var(--space-4);display:flex;gap:var(--space-6);flex-wrap:wrap;">
      <div style="font-size:var(--text-xs);color:var(--color-muted);">Clock anchor: <code>--clock-anchor: 46%</code> desktop · <code>42%</code> mobile</div>
      <div style="font-size:var(--text-xs);color:var(--color-muted);">Zone B: <code>top: clock-anchor + timer-half + tracker-gap</code></div>
      <div style="font-size:var(--text-xs);color:var(--color-muted);">Zone C: <code>top: Zone B + tracker height + space-8</code></div>
    </div>
  </section>


  <!-- ── DASHBOARD ──────────────────────────────────────────── -->
  <section class="section">
    <div class="section-label">Dashboard — Settings Panel</div>
    <div class="grid-2">
      <div class="card">
        <div style="font-size:var(--text-xs);letter-spacing:0.02em;color:var(--color-muted);margin-bottom:var(--space-3);">Today</div>
        <!-- Session dots -->
        <div style="display:flex;gap:var(--space-1);flex-wrap:wrap;margin-bottom:var(--space-4);">
          <span class="dot" style="width:6px;height:6px;background:var(--color-accent);"></span>
          <span class="dot" style="width:6px;height:6px;background:var(--color-accent);"></span>
          <span class="dot" style="width:6px;height:6px;background:var(--color-accent);"></span>
        </div>
        <!-- 7-day bars -->
        <div style="display:flex;gap:3px;align-items:flex-end;height:40px;">
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:4px;border-radius:2px;background:var(--color-border);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">M</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:14px;border-radius:2px;background:var(--color-work);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">T</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:8px;border-radius:2px;background:var(--color-work);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">W</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:20px;border-radius:2px;background:var(--color-work);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">T</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:4px;border-radius:2px;background:var(--color-border);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">F</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:12px;border-radius:2px;background:var(--color-work);opacity:0.6;"></div>
            <span style="font-size:8px;color:var(--color-border);">S</span>
          </div>
          <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:100%;height:16px;border-radius:2px;background:var(--color-work);opacity:1;"></div>
            <span style="font-size:8px;color:var(--color-muted-strong);">S</span>
          </div>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;gap:var(--space-3);justify-content:center;">
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Session dots: <code>6×6px · --color-accent</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Bars with sessions: <code>--color-work</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Empty bars: <code>--color-border</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Past days: <code>opacity 0.6</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Today: <code>opacity 1</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Day label today: <code>--color-muted-strong</code></div>
        <div style="font-size:var(--text-xs);color:var(--color-muted);">Day label past: <code>--color-border</code></div>
      </div>
    </div>
  </section>

</div>

<script>
  function toggleTheme() {
    const el = document.documentElement;
    const btn = document.getElementById('theme-toggle');
    if (el.dataset.theme === 'light') {
      el.removeAttribute('data-theme');
      btn.textContent = 'Light';
    } else {
      el.dataset.theme = 'light';
      btn.textContent = 'Dark';
    }
  }

  function animateBar(id) {
    const bar = document.getElementById(id);
    bar.style.transition = 'none';
    bar.querySelector ? null : null;
    // Reset via class manipulation
    const cls = bar.className.split(' ').find(c => c.startsWith('dur-'));
    bar.classList.remove(cls);
    // Force reflow
    void bar.offsetWidth;
    bar.classList.add(cls);
  }
</script>

</body>
</html>
